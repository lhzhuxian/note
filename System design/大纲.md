首先你要明白，所谓的system design是要做一个能够在现实世界中运行的系统的设计，所以说system design可以cover任何topic，从建大桥到做手机到做网站，而局限到软件，尤其是面试的scenario，大体局限于以下几种：

1. Web application，典型例子：设计一个e-commerce商品的detail page(参考Amazon商品detail page)。设计一个online小游戏。设计一个论坛。
2. 简单的Web Service，典型例子：设计一个short url service。
3. 实时／半实时的消息update，典型例子：messenger，news feed。
4. 数据系统，典型例子：top url hits, unique url hits
5. 内容分发系统，典型例子：设计Netflix CDN
6. 专业知识，典型例子：推荐系统，分布式系统基础架构，搜索。。。

个人认为，要想在System Design上面达到像刷题那样的熟练程度，对于刚刚入行一两年甚至三四年的朋友来说，是不可能的，因为这些问题要想准确答出，已经远远超出了对junior engineer的要求，甚至已经是senior engineer的水准。

但是即使面试官并没有期望你达到senior engineer的水准，至少他还是想要通过这个问题来摸清你的工程经验，如果所答完全非所问，那么给面试官留下的印象将是非常糟糕的。你的方案可以不是最优的，甚至可能离最优有一段距离，但是你的方案一定不能是ridiculous的。起码在小的scale上要能有可行性，可以展现你的一些基本design sense。

基础知识的准备：
1. 数据库 —— 了解relational数据库(Oracle/postgres)的基本知识，了解数据库的partition，了解查询，了解数据库的replication；了解现在流行的NoSQL databases: key-value database (Riak/DynamoDB)，document based(mongodb)，graph based, big table(or column based - HBase)...这里DynamoDB有个paper，关于eventually consistence需要明白CAP定理。
2. 队列服务—— 了解Kafka或者Kinesis，明白队列服务的应用场景
3. Web层，了解MVC，具体技术可以了解Spring，Nodejs
4. 前端，了解Javascript，Html
5. 了解SOAP和RESTful
6. 理解cache——如何以及在何种情况下运用cache降低latency
7. 理解现代分布式系统需要大量monitor以及log analysis
8. 理解系统中不能有single point of failure，从failure的角度出发设计系统，运用Write Ahead Log进行故障恢复，充分replicate你的service所以任何一个机器、集群、机房的灾难都不会对你的整体服务造成不可挽回的影响
9. 处理高并发，明白资源共享是影响并发的主要原因之一（另一个原因是进程间通信）——如何decouple共享资源，提高并发效率
10. 明白基本的效率评定标准，如TPS。。。
11. 理解一些分布式系统的基本概念，如上面提到的CAP，以及Consistent Hashing，Vector Clock
12. 读一些paper，如Akamai的CDN，Amazon的Dynamo，Google的Map-reduce（很老嗯）等等
13. 亲手实现一个简单的网站，从前端到数据库都接触一些
14. 了解Hadoop的基本功能，如HDFS，Map-Reduce。
15. 了解Apache Storm的基本功能。
16. 结合所学的基础知识，考虑你所设计的系统的Availability，Scalability和Performance.









Rest Api vs RPC Api

就是你能大概说出，rest一般是对外，rpc一般是对内，前者有相对严格的围绕资源的定义，后者因为是对内所以协议上灵活一些，类似这种的考量。

这种知识的话，应该在遍历其他知识的时候会或多或少碰到，可以在学习api设计规范的时候顺带看一下（比如还有常见的http状态码）。





API Gateway (api 网关)

API网关是一个服务器，是系统的唯一入口。从面向对象设计的角度看，它与外观模式类似。API网关封装了系统内部架构，为每个客户端提供一个定制的API。它可能还具有其它职责，如身份验证、监控、负载均衡、缓存、请求分片与管理、静态响应处理。
API网关方式的核心要点是，所有的客户端和消费端都通过统一的网关接入微服务，在网关层处理所有的非业务功能。通常，网关也是提供REST/HTTP的访问API。服务端通过API-GW注册和管理服务。

https://www.cnblogs.com/savorboard/p/api-gateway.html



API Gateway vs Load balancers 

**A load balancer distributes incoming network traffic across two or more servers**. An enterprise network sees high volumes of traffic, and an application that runs on a single server sometimes lacks sufficient network or compute power to handle all of the traffic requests it receives.

An enterprise must run two or more application instances concurrently -- often on two or more physical servers. This provides applications with the capacity to handle all of the traffic, while redundancy helps [ensure high availability](https://searchcloudcomputing.techtarget.com/tip/Optimize-load-balancing-for-a-hybrid-cloud-architecture): If one server fails, the load balancer redirects traffic to the remaining instances on other servers.



API gateway, think of the gateway as an organizer and translator that connects various -- often unrelated -- pieces of software. An API gateway [also manages network traffic](https://searchapparchitecture.techtarget.com/quiz/Quiz-yourself-on-smart-API-gateway-management), but in a different way. Today's software [relies increasingly on APIs](https://www.forrester.com/report/Four+Ways+APIs+Are+Changing+Banking/-/E-RES133881) to integrate disparate components of an application and enable those components to communicate. An API gateway takes API requests from a client -- which is the software that makes an API call -- and sorts out the destination applications or services necessary to handle those calls. API gateways also manage all of the translations and protocols between different pieces of software.

API gateways are often [associated with microservices](https://searchapparchitecture.techtarget.com/feature/The-value-of-APIs-and-microservices-gateway-tools) application design and deployment. Enterprises increasingly envision and create modern applications as a series of independent services, rather than a single monolithic application. Those services communicate via APIs; the API gateway ensures that those services interoperate properly in an overall deployment.**Organizations implement gateways as a service**, and most frequently deploy them as a software instance on a VM.



微服务架构





Distributed messge queue

kafka







MapReduce







